#!/bin/bash
# In screen, zcssh open new ssh screen directly.

if [ ! "$TERM" = "screen" ] ; then
    echo "Do not run GNU screen"
    exit 0
fi

if [[ "$1" =~ ^[0-9]+$ ]] ; then
    dispnum=$1
    shift
fi

cmdline=$@
shift $(( $# - 1 ))
host=$1
# TODO: ��äƤ��뤳�Ȥγ�˥����ɤ�ʣ��

if [ "$TERM" = "screen" ] ; then
    screen -t ${host%%.*} $dispnum env TERM=vt100 ssh $@
fi

# zcssh [SCREEN NUMBER] [SSH OPTIONS] HOST
# 
# ���������ϥ��ե�ʤ��Τ����ο����ʤ顢����� screen �ֹ�ˤ��롣
# �����Ǥʤ��ʤ顢ssh ���Ϥ������Ȥ��ƥ��ȥå���
# screen ���Ϥ� title �ϡ�HOST ����ǽ�ΥɥåȤޤǤ�ʸ����
# FQDN ���Ф���ۥ���̾�Ȥ������Ȥǡ�
# 
# TODO: .screenrc �ǲ��Ȥ��Ǥ��ʤ���Τ���
# 
# ���Ȥ�
#  * ssh screen ��Хå����饦��ɤǺ��
#  * window ��ʬ�䤷�Ʋ��� ssh screen
# �ʤ�ƥХꥨ������󤬤���Ф���
#
# zcssh [dispnum] [zcopt...] [sshopt] host ???
